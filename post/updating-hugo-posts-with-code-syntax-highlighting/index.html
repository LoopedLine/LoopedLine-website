<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Updating Hugo Posts with Code Syntax Highlighting [SOLVED]</title>
        
        
        <style>

            html body {
                font-family: 'Raleway', sans-serif;
                background-color: lightgray;
            }

            :root {
                --accent: purple;
                --border-width:  5px ;
            }

        </style>

        
        <link rel="stylesheet" href="https://loopedline.com/css/main.css">
        <link rel="stylesheet" href="https://loopedline.com/css/custom.css">

        
        

        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

        
        

        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" crossorigin="anonymous">

        
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />

                
        

        
        

        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

        
        <script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
        <meta name="generator" content="Hugo 0.68.3" />
        
    

    

    
        <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

        
    </head>

    <body>
        
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">Updating Hugo Posts with Code Syntax Highlighting [SOLVED]</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/LoopedLine/"><i class="fab fa-github"></i></a></li>
                            
                        </ul>
                    
                </div>
            </div>
        </nav>


<main>

    <div>
        <h2>Updating Hugo Posts with Code Syntax Highlighting [SOLVED]</h2>
        <h5>2022 March 12</h5>
        
<a href="https://loopedline.com/tags/software-development"><kbd class="item-tag">software development</kbd></a>

<a href="https://loopedline.com/tags/web-development"><kbd class="item-tag">web development</kbd></a>

<a href="https://loopedline.com/tags/static-site-generator"><kbd class="item-tag">static site generator</kbd></a>

<a href="https://loopedline.com/tags/hugo"><kbd class="item-tag">Hugo</kbd></a>

<a href="https://loopedline.com/tags/regular-expressions"><kbd class="item-tag">regular expressions</kbd></a>

<a href="https://loopedline.com/tags/technical-troubleshooting"><kbd class="item-tag">technical troubleshooting</kbd></a>

<a href="https://loopedline.com/tags/technical-troubleshooting-solved"><kbd class="item-tag">technical troubleshooting - solved</kbd></a>


    </div>

    <div align="start" class="content"><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="the-problem">The Problem</h2>
<p>Hugo&rsquo;s code fence syntax produced code blocks but didn&rsquo;t produce code with syntax highlighting.</p>
<h2 id="the-process">The Process</h2>
<p>A web search for syntax highlighting in Hugo returned some Hugo documentation pages:</p>
<ul>
<li><a href="https://gohugo.io/content-management/syntax-highlighting/">Syntax Highlighting</a></li>
<li><a href="https://gohugo.io/getting-started/configuration-markup#highlight">Configure Markup: Highlight</a></li>
</ul>
<p>While these offered some background information, they didn&rsquo;t help resolve the issue.</p>
<hr>
<p>That search also returned <a href="https://mertbakir.gitlab.io/hugo/syntax-highlighting-in-hugo/">this article</a>, which provided an example for one solution of adding the following to the Hugo <code>config.toml</code> file:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">  [<span style="color:#a6e22e">markup</span>.<span style="color:#a6e22e">highlight</span>]
    <span style="color:#a6e22e">guessSyntax</span> = <span style="color:#66d9ef">true</span>
</code></pre></div><p>This succeeded in producing code with syntax highlighting, but offered less control over the outcome since it relies on Hugo correctly guessing the desired syntax.</p>
<p>Finding a more flexible and configurable solution required more searching.</p>
<hr>
<p>Another web search for Hugo syntax highlighting of Bash commands returned <a href="https://medium.com/pragmatic-programmers/displaying-shell-command-code-blocks-in-hugo-d50691096772">&ldquo;Displaying Shell Command Code Blocks in Hugo&rdquo; by Brian P. Hogan</a>, which pointed toward the desired solution.</p>
<h2 id="the-solution">The Solution</h2>
<h3 id="code-fences-with-tags">Code fences with tags</h3>
<p>Previous uses of code fences on this site had employed bare code fences like the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="color:#e6db74">```
</span><span style="color:#e6db74"></span>&lt;code block&gt;
<span style="color:#e6db74">```</span>
</code></pre></div><p>But appending the code name immediately after the opening code fence triggers the appropriate syntax highlighting:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown"><span style="color:#e6db74">```toml
</span><span style="color:#e6db74"></span><span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">code</span> <span style="color:#a6e22e">block</span><span style="color:#960050;background-color:#1e0010">&gt;</span>
<span style="color:#e6db74">```</span>
</code></pre></div><p>With this knowledge the <a href="https://gohugo.io/content-management/syntax-highlighting/#list-of-chroma-highlighting-languages">List of Chroma Highlighting Languages</a> provided in the Hugo documentation is helpful to determine the specific tag to use to trigger syntax highlighting for a specific language.</p>
<h3 id="searching-with-regular-expressions-in-vs-code">Searching with Regular Expressions in VS Code</h3>
<p>This type of update needed to be applied to all previous articles.  Doing that manually could take quite a while.  Fortunately, <a href="https://www.reddit.com/r/vscode/comments/at77sg/is_there_a_way_to_find_and_replace_every_nth_item/egzh4er/?utm_source=share&amp;utm_medium=web2x&amp;context=3">this VSCode subreddit post</a> provided the insight that regular expressions could be used in Visual Studio Code&rsquo;s find/replace functionality.</p>
<h4 id="the-search-pattern">The Search Pattern</h4>
<p>Finding only the opening code fence and not the closing code fence with regular expressions relied on the insight that in nearly every case the closing code fence was followed by a blank line while the opening code fence was followed by a line with either a word character, a hashtag (<strong>#</strong>), a parenthesis (<strong>&quot;</strong>), or an opening brace (<strong>{</strong>).  That led to using the following regular expression search pattern:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">```\n([#{&#34;\w])
</code></pre></div><h4 id="the-replacement-pattern">The Replacement Pattern</h4>
<p>The desired replacement pattern depended on the language being used, but was typically consistent throughout an individual article.  That led to using the following replacement pattern, when, for example, the article utilized <strong>Bash</strong> commands:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">```bash\n$1
</code></pre></div><h4 id="the-process-1">The process</h4>
<p>Each article had to be worked through individually for several reasons:</p>
<ul>
<li>because the code language could vary between articles,</li>
<li>to catch the few cases that didn&rsquo;t fit the search pattern, and</li>
<li>to confirm that replacements yielded expected results.</li>
</ul>
<p>Through that process all articles on the site were updated to reflect the appropriate syntax highlighting.</p>
<!-- raw HTML omitted -->
</div>

    
    
    
        <h4 class="page-header">Related</h4>
         <div class="item">

    
    
    

    
    

    <h4><a href="/post/building-improved-list-page-navigation-for-hugo/">Building Improved List Page Navigation for Hugo</a></h4>
    <h5>2022 April 05</h5>

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/testing-css-grid/">Testing CSS Grid</a></h4>
    <h5>2022 April 04</h5>

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/automatically-building-a-list-of-all-posts-in-hugo/">Automatically Building a List of All Posts in Hugo</a></h4>
    <h5>2022 April 01</h5>

</div>
 
    

</main>

        <footer>
            <p class="copyright text-muted">Â© All rights reserved. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a> and <a href="/bespoke/main.html">Bespoke</a>.</p>
        </footer>

        
        
    </body>

</html>
